<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs docs-version-current docs-doc-page docs-doc-id-studio/single-tenancy" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.1">
<title data-rh="true">Single Tenancy | XAPP AI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://documentation.xapp.ai/docs/studio/single-tenancy"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-current"><meta data-rh="true" property="og:title" content="Single Tenancy | XAPP AI"><meta data-rh="true" name="description" content="You will need a special signed URL that XAPP will provide to you, this will be used to authenticate your access to the"><meta data-rh="true" property="og:description" content="You will need a special signed URL that XAPP will provide to you, this will be used to authenticate your access to the"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://documentation.xapp.ai/docs/studio/single-tenancy"><link data-rh="true" rel="alternate" href="https://documentation.xapp.ai/docs/studio/single-tenancy" hreflang="en"><link data-rh="true" rel="alternate" href="https://documentation.xapp.ai/docs/studio/single-tenancy" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="XAPP AI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="XAPP AI Atom Feed"><link rel="stylesheet" href="/assets/css/styles.f705c450.css">
<script src="/assets/js/runtime~main.10064b20.js" defer="defer"></script>
<script src="/assets/js/main.88ed84e4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>
<script id="xapp-js" src="https://widget.xapp.ai/xapp-chat-widget.js?key=32046c1c-e65a-42ef-8653-e8f6038f369b"></script>
<script id="xapp-search-js" src="https://search.xapp.ai/xapp-search-bar.js?key=baefaf35-7e48-42d7-b365-a9ed48c92027"></script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="XAPP AI" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="XAPP AI" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">XAPP AI</b></a><a href="https://xapp.ai/product" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Product</a><a href="https://xapp.ai/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a><a class="navbar__item navbar__link" href="/help/install">Installation Guides</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div><a href="https://studio.xapp.ai/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Login</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/basics/basics-conversational-ai">Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/dialog-manager/overview">Dialog Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/model/intents">Model</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/content/handlers">Content</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/infrastructure/infrastructure-architecture">Infrastructure</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/channels/">Channels</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/data/types-of-data">Data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/studio/architectures">Studio</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/studio/architectures">Architectures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/studio/opportunity-alerts">BETA - Opportunity Alerts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/studio/autocomplete-suggestions">Autocomplete Suggestions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/studio/single-tenancy">Single Tenancy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/studio/export-import">Exporting &amp; Importing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/studio/organizations-applications-members">Organizations, Applications and Members</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/studio/governance">Governance</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/partners/partner-integration">Partners</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/development/getting-started">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/videos/search">Videos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/training-series/welcome">Training-Series</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Studio</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Single Tenancy</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Single Tenancy</h1></header><div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>You will need a special signed URL that XAPP will provide to you, this will be used to authenticate your access to the</p></div></div>
<p>Single tenancy allows you to host all of OC Studio on your AWS account.  Typically this is necessary when you have sensitive information that you work with that needs to have restricted access.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying">Deploying<a href="#deploying" class="hash-link" aria-label="Direct link to Deploying" title="Direct link to Deploying">​</a></h2>
<p>At a high level, for deployment we will provide you with an authentication method and command line script that you will use to then deploy a OC Studio instance to your AWS account.  This script will automatically deploy all the necessary services, application code and the necessary IAM roles them to communicate with each other.  You will then have a <a href="/docs/development/api/cms">CMS API</a>, a <a href="/docs/development/api/graphql">GraphQL API</a> and a Studio web application URL.</p>
<p>From there you can start to build out your application in Studio and point your assistant application to use the new runtime API.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-aws">Setup AWS<a href="#setup-aws" class="hash-link" aria-label="Direct link to Setup AWS" title="Direct link to Setup AWS">​</a></h3>
<ol>
<li>
<p>Create an AWS account in which to deploy Studio.</p>
</li>
<li>
<p>Create an IAM user with administrator privileges that allows this script to assume. The policy attached to this user is also the policy that CloudFormation will use to deploy the client and API</p>
</li>
<li>
<p>Create a programmatic access and secret access key for the IAM user and save these credentials as a profile in the <code>~/.aws/credentials</code> file.</p>
</li>
<li>
<p>Create two S3 buckets. One bucket will be used to deploy the client to and the other will be used to deploy the API code to. These buckets must be in the same region that the Studio is to be deployed to.</p>
<ul>
<li>Use names like <code>{your-org}-studio-client-{env}</code> &amp; <code>{your-org}-studio-api-{env}</code> since S3 buckets must be globally unique.</li>
</ul>
</li>
<li>
<p>Set up a CloudFront distribution to the client S3 bucket.  The set the default setting except for:</p>
<ul>
<li>Set default root object to <code>/index.html</code></li>
<li>Set up the following Origin Access</li>
</ul>
<p><img decoding="async" loading="lazy" alt="origin access" src="/assets/images/studio-single-tenant-cloudfront-access-settings-8d08b74752d29c31dbeeec4a1965e0ff.png" width="1580" height="1044" class="img_ev3q"></p>
<ul>
<li>
<p>Create two error pages that point to /index.html, Studio is a single page web application all paths need to redirect back to root.</p>
<ul>
<li>Error code 403 should change to a 200, return /index.html</li>
<li>Error code 404 should keep at 404, return /index.html</li>
</ul>
<p><img decoding="async" loading="lazy" alt="error pages" src="/assets/images/studio-single-tenant-cloudfront-error-pages-56bf7f2cbb911843b56abc493a649051.png" width="2804" height="614" class="img_ev3q"></p>
</li>
<li>
<p>Update your S3 bucket permissions, replacing variables for those in your environment.</p>
</li>
</ul>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token property">&quot;Version&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2008-10-17&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token property">&quot;Statement&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token property">&quot;Sid&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;AllowCloudFrontServicePrincipal&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token property">&quot;Effect&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Allow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token property">&quot;Principal&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 </span><span class="token property">&quot;Service&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cloudfront.amazonaws.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token property">&quot;Action&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;s3:GetObject&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token property">&quot;Resource&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arn:aws:s3:::{{BUCKET-NAME}}/*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token property">&quot;Condition&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 </span><span class="token property">&quot;StringEquals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                     </span><span class="token property">&quot;AWS:SourceArn&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arn:aws:cloudfront::{{ACCOUNT-ID}}:distribution/{{CLOUDFRONT-DISTRIBUTION-ID}}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-deployment-script">Setup Deployment Script<a href="#setup-deployment-script" class="hash-link" aria-label="Direct link to Setup Deployment Script" title="Direct link to Setup Deployment Script">​</a></h3>
<ol>
<li>Install the script</li>
</ol>
<p>Either globally</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">npm install -g @xapp/studio-deploy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>or as a <code>devDependency</code> in your package.json</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;devDependencies&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;@xapp/studio-deploy&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;0.0.23&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;studio-help&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;studio-deploy --help&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;studio-list-versions&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;studio-deploy list&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;studio-deploy-client&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;studio-deploy deploy-client&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;studio-deploy-api&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;studio-deploy deploy-api&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;studio-configure&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;studio-deploy deploy-config&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>
<p>Set your AWS_REGION, only us-east-1 is supported at this time.</p>
</li>
<li>
<p>Set your AWS_PROFILE</p>
<ul>
<li><code>export AWS_PROFILE=&lt;profile&gt;</code></li>
</ul>
</li>
<li>
<p>Add the following environment variables to your current terminal or environment</p>
<ul>
<li><code>STUDIO_CF_DISTRO_DOMAIN</code> This is the domain that the cloudfront distribution created earlier has.</li>
<li><code>STUDIO_CLIENT_S3_BUCKET</code> This is the name of the bucket that was created to store the client.</li>
<li><code>STUDIO_API_S3_BUCKET</code> This is the name of the bucket that was created to store the api client.</li>
<li><code>STUDIO_COGNITO_DOMAIN</code> This will be the domain of the Amazon Cognito pool, it will need to be globally unique within AWS.<!-- -->
<ul>
<li>We recommend something like <code>{your_org}-studio-{env}</code>, thus <code>xapp-studio-prod</code> to avoid collisions</li>
<li>You can use Cognito to hook into another federated identity system your organization may have.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Add the signed URL to your environment to authorize your deployment</p>
<ul>
<li><code>STUDIO_SIGNED_URL</code> A url in the format <code>&quot;https://single-tenant.xapp.ai?Policy=&lt;token&gt;&quot;</code> provided by XAPP.</li>
<li><strong>Note:</strong> You will need to surround it in <code>&quot;</code></li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-oc-studio">Deploy OC Studio<a href="#deploy-oc-studio" class="hash-link" aria-label="Direct link to Deploy OC Studio" title="Direct link to Deploy OC Studio">​</a></h3>
<p>You will need to deploy the client and API seperately with the following commands.  This allows you to update them independently (client tends to have more releases than API).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-client">Deploying Client<a href="#deploying-client" class="hash-link" aria-label="Direct link to Deploying Client" title="Direct link to Deploying Client">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">studio-deploy deploy-client [ver]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>[ver]</code> is optional, by default it will deploy the latest version.</p>
<p>A successful release will upload all the fils to your S3 bucket and look like the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">With a successful deployment ending with...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">....</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploaded &quot;vendors~organizations~ee8c9296.bcb56d89.js.LICENSE.txt&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploading &quot;vendors~organizations~ee8c9296.bcb56d89.js.map&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploaded &quot;vendors~organizations~ee8c9296.bcb56d89.js.map&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploading &quot;vendors~organizations~f571ecdd.7b0e1102.js&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploaded &quot;vendors~organizations~f571ecdd.7b0e1102.js&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploading &quot;vendors~organizations~f571ecdd.7b0e1102.js.map&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploaded &quot;vendors~organizations~f571ecdd.7b0e1102.js.map&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Client has been released.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Done in 71.86s.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-api">Deploying API<a href="#deploying-api" class="hash-link" aria-label="Direct link to Deploying API" title="Direct link to Deploying API">​</a></h4>
<p>The API script will first deploy the necessary deployment assets that will be used by Cloudformation to the S3 bucket you configured earlier.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">studio-deploy deploy-api [ver]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>[ver]</code> is optional, by default it will deploy the latest version.</p>
<p>The script will first</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploading &quot;1.73.2-0.22.79/cloudformation-template-update-stack.json&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploaded &quot;1.73.2-0.22.79/cloudformation-template-update-stack.json&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Starting Cloudformation upload</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Creating stack...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>At this point, the script will trigger a Cloudformation stack creation.  You will continue to see many <code>.</code> in your console as progress is being made.  You can go to the AWS Cloudformation console and follow along there, the name of the stack is <code>studio-deploy</code>.</p>
<p>Once it is complete, you will see this output:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Checking if index exists for alias &quot;stentor_audio_events&quot;.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Alias an index &quot;stentor_audio_events&quot; exist.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Checking if index exists for alias &quot;stentor_error_events&quot;.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Alias an index &quot;stentor_error_events&quot; exist.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Setting up template suggestions...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Checking if index exists for alias &quot;suggestions&quot;.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Alias an index &quot;suggestions&quot; does not exist.  Creating...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Setting up template usage_events...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Checking if index exists for alias &quot;usage_events&quot;.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Alias an index &quot;usage_events&quot; does not exist.  Creating...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Setting up pipelines...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Setting up pipeline asIsPipeline...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Setting up pipeline faqs_pipeline...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Setting up pipeline suggestions_pipeline...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Done in 1902.67s.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configure-a-key-for-your-tokens">Configure a key for your tokens<a href="#configure-a-key-for-your-tokens" class="hash-link" aria-label="Direct link to Configure a key for your tokens" title="Direct link to Configure a key for your tokens">​</a></h4>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Changing your keys later will invalidate all your tokens.</p></div></div>
<p>In order to create <a href="/docs/development/tokens">tokens</a>, that will allow a secure connection between the runtime and your Studio instance, you will need to generate a secure key.</p>
<ol>
<li>
<p>On Mac, Linux or WSL2 run the command <code>ssh-keygen -f cms_key.key -b 4096 -t rsa -m pkcs8</code>. If this is not available, then use the preferred method to generate RSA private and public key pairs. Do not include any passphrases.</p>
</li>
<li>
<p>Run the command <code>ssh-keygen -f cms_key.key.pub -b 4096 -e -t rsa -m pkcs8</code>.  This should convert the public key in to the proper format which should look similar to this:</p>
</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PUBLIC KEY-----</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ARandomBunchOfGibberish</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PUBLIC KEY-----</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>Run the command <code>cat cms_key.key</code> to display the private key which should be in the format like so:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN PRIVATE KEY-----</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ARandomBunchOfGibberish</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-----END PRIVATE KEY-----</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>
<p>Go to the AWS Console.  Go to <code>Systems Manager</code>, and navigate to the <code>Parameter Store</code>.</p>
</li>
<li>
<p>Click <code>Create Parameter</code>.  Name the new parameter <code>studio-cms-public-dev</code>.  Click <code>SecureString</code> under <code>type</code>. Copy and paste the public key in to the <code>Value</code> section.  Click the <code>Create Parameter</code> button.</p>
</li>
<li>
<p>Click <code>Create Parameter</code> and this time name the parameter <code>studio-cms-private-dev</code>. Click <code>SecureString</code> under <code>type</code>. Copy and paste the private key in to the <code>Value</code> section.  Click the <code>Create Parameter</code> button.</p>
</li>
</ol>
<p>That is it!  You can now generate tokens based on this secure key.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-client">Configuring Client<a href="#configuring-client" class="hash-link" aria-label="Direct link to Configuring Client" title="Direct link to Configuring Client">​</a></h4>
<p>After the assets have been deployed, you can generate and upload a configuration file for the client by running:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">studio-deploy deploy-config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This script should only take a few seconds and the output will look like the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Checking if api has been deployed....</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Looking for api URL.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploading configuration to S3...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;apiUrl&quot;: &quot;https://xxxx.execute-api.us-east-1.amazonaws.com/dev&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;wsUrl&quot;: &quot;https://xxxx.execute-api.us-east-1.amazonaws.com/dev&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;searchUrl&quot;: &quot;https://xxxx.cloudfront.net&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;documentationUrl&quot;: &quot;https://documentation.xapp.ai&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;feedbackEmail&quot;: &quot;feedback@xapp.ai&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;supportEmail&quot;: &quot;support@xapp.ai&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;auth&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;provider&quot;: &quot;cognito&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;audience&quot;: &quot;https://studio.xapp.ai&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;clientId&quot;: &quot;7nbshlqvnqp5m6qe93a8ehietf&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;domain&quot;: &quot;studio-single-tenant-xxxx.auth.us-east-1.amazoncognito.com&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">config.js has been uploaded.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Done in 2.14s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It will generate a file and upload it to the client S3 bucket at <code>/config.js</code> and looks like this:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;xaStudioConfig&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">apiUrl</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">wsUrl</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">widgetUrl</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">documentationUrl</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://documentation.xapp.ai&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">feedbackEmail</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;feedback@xapp.ai&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">supportEmail</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;support@xapp.ai&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token literal-property property">auth</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">provider</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">domain</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">clientId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token literal-property property">audience</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This file has all the information needed for the client to communicate with your custom single-tenant backend.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-your-new-studio">Accessing your new Studio<a href="#accessing-your-new-studio" class="hash-link" aria-label="Direct link to Accessing your new Studio" title="Direct link to Accessing your new Studio">​</a></h3>
<p>After you configured client, you can now access your instance from the Cloudfront Distribution you created earlier.  A successful deployment will show you an empty Studio.</p>
<p><strong>What to do next?</strong></p>
<ul>
<li><a href="/docs/studio/export-import">Import an existing App</a></li>
<li><a href="/docs/studio/organizations-applications-members">Invite Members</a></li>
<li><a href="/docs/development/api/cms">Test your API</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-failures">Deploy Failures<a href="#deploy-failures" class="hash-link" aria-label="Direct link to Deploy Failures" title="Direct link to Deploy Failures">​</a></h3>
<p>Deployment failures may happen.  Here are a few things you <strong>need</strong> to do before you try again.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="determine-reason-for-failure">Determine Reason for Failure<a href="#determine-reason-for-failure" class="hash-link" aria-label="Direct link to Determine Reason for Failure" title="Direct link to Determine Reason for Failure">​</a></h4>
<p>You may see an error from running the script, these are typically incorrectly configured environment variables.  These can be address rather quickly and the script restarted.</p>
<p>If you see something in your console like:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">There was an error creating the stack.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Reason: undefined</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Api released.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>then the API release failed and you will need to go to the Cloudformation console and search through the events for the exact failure reason.  The events are in reverse chronological order and you most likely will need to scroll down quite far to find the error.</p>
<p><img decoding="async" loading="lazy" alt="failed deploy" src="/assets/images/studio-api-single-tenant-failed-4a78637ee5368f19542b2e18a58f1814.png" width="2296" height="917" class="img_ev3q"></p>
<p>When looking through the events, look for the first <code>CREATE_FAILED</code> and it should have a helpful error message like in the picture above.  In this case, the Cognito domain was incorrect.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="delete-the-stack-in-cloudformation">Delete the Stack in Cloudformation<a href="#delete-the-stack-in-cloudformation" class="hash-link" aria-label="Direct link to Delete the Stack in Cloudformation" title="Direct link to Delete the Stack in Cloudformation">​</a></h4>
<p>After the rollback is complete, go to the Cloudformation console and delete the stack.  It will be named <code>studio-deploy</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="manually-delete-lambdas">Manually Delete Lambdas<a href="#manually-delete-lambdas" class="hash-link" aria-label="Direct link to Manually Delete Lambdas" title="Direct link to Manually Delete Lambdas">​</a></h4>
<p>Sometimes Cloudformation doesn&#x27;t clean up all the resources it started to create.  In your AWS console, go to the Lambda console and look for functions ending in <code>CF</code>.  These are created by the <code>studio-deploy</code> Cloudformation script.  If you see any, manually delete them in the console.</p>
<p><img decoding="async" loading="lazy" alt="delete lambdas" src="/assets/images/studio-single-tenant-failure-delete-lambdas-a07a21ee3d34245a78617d556a834227.png" width="452" height="350" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="versions">Versions<a href="#versions" class="hash-link" aria-label="Direct link to Versions" title="Direct link to Versions">​</a></h2>
<p>By default, the client and API deploy command uses the latest available version however you can optionally specify a specific version to install.</p>
<p>We have different version numbers for our client &amp; API but release them in versioning pairs that are guaranteed to work together and have compatibility.  If you run a newer version of client and an older version of API, they may not work together.</p>
<p>You can see the available version pairs when you run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">studio-deploy list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You will then see output like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ studio-deploy list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1.82.4-0.22.79</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1.73.2-0.22.79</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1.73.2-0.22.78</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1.73.2-0.22.76</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Done in 0.47s.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Each row represents <code>{client-version}-{api-version}</code>.</p>
<p>You can then deploy a specific version by using one of the versioning pairs.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">studio-deploy deploy-client 1.73.2-0.22.79</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will deploy version 1.73.2 of client.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">studio-deploy deploy-api 1.73.2-0.22.79</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will deploy 0.22.79 of API.</p>
<p><strong>Note</strong> You must include the full version pair as the argument to the deploy commands.</p>
<p>You can find the release notes for each of the versions <a href="/docs/release-notes/studio-single-tenant">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="updating-existing-stack">Updating Existing Stack<a href="#updating-existing-stack" class="hash-link" aria-label="Direct link to Updating Existing Stack" title="Direct link to Updating Existing Stack">​</a></h2>
<p>For existing stacks, you can update client and API using the existing deploy commands.</p>
<p>You can find the release notes for the available releases <a href="/docs/release-notes/studio-single-tenant">here</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updating-client">Updating Client<a href="#updating-client" class="hash-link" aria-label="Direct link to Updating Client" title="Direct link to Updating Client">​</a></h3>
<p>You can update client with the same command that you used to deploy.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">studio-deploy deploy-client [ver]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once updated, we recommend to then invalidate <code>/index.html</code> on your CloudFront distribution to make the update appear immediately.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="updating-api">Updating API<a href="#updating-api" class="hash-link" aria-label="Direct link to Updating API" title="Direct link to Updating API">​</a></h3>
<p>You can updated API with the same command you used to deploy.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">studio-deploy deploy-api [ver]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The script will upload new assets and then update the infrastructure using Cloudformation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-staging-production">Development, Staging, Production<a href="#development-staging-production" class="hash-link" aria-label="Direct link to Development, Staging, Production" title="Direct link to Development, Staging, Production">​</a></h2>
<p>As part of onboarding, we will work closely with you getting your initial development environment setup.</p>
<p>We suggest separate development, staging and production environments on isolated cloud accounts as part of your deployment process.</p>
<ul>
<li><strong>Development</strong> - All development and changes to the environment start in your development environment.  All data within the environment is mocked data and should be considered ephemeral.</li>
<li><strong>Staging</strong> - Staging is as close to production as you can make it.  Depending on your data security requirements, you can either use a copy of production data or generated mocked data.  The staging environment is your final testing environment.<br>
<!-- -->All of your development starts in your development environment.</li>
<li><strong>Production</strong> - Production is a completely isolated environment with limited access to the backend that your customers interact with.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flow-from-development----staging----production">Flow from Development --&gt; Staging --&gt; Production<a href="#flow-from-development----staging----production" class="hash-link" aria-label="Direct link to Flow from Development --&gt; Staging --&gt; Production" title="Direct link to Flow from Development --&gt; Staging --&gt; Production">​</a></h3>
<p>We believe in following infrastructure as code for reliably moving the application and it&#x27;s content through the different steps of your release cycle.  We will provide you with a Cloudformation script that will allow you to manage and deploy Studio to different environments.  You are then responsible for developing the necessary scripts to manage the rest of your infrastructure, such as the runtime environment.  For migrating your model and other content between environments, we recommend leveraging the <a href="/docs/development/api/graphql">management API</a> to create exports of your application and then importing to the next environment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="users--authentication">Users &amp; Authentication<a href="#users--authentication" class="hash-link" aria-label="Direct link to Users &amp; Authentication" title="Direct link to Users &amp; Authentication">​</a></h2>
<p>As part of deployment, we created an Amazon Cognito user pool for you.  You can keep using this user pool or you can setup third-party (federated) login (read more <a href="https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-pools-identity-federation.html" target="_blank" rel="noopener noreferrer">here</a>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="managing-users">Managing Users<a href="#managing-users" class="hash-link" aria-label="Direct link to Managing Users" title="Direct link to Managing Users">​</a></h3>
<p>You can add new users manually through the Cognito User Pool console on AWS.  By default, we have self-service registration turned on, this allows users to create their own accounts <strong>however</strong> they will not have access to other organizations by default.  You can turn off self-service registration within your user pool under &quot;Sign-up experience&quot; with disabling &quot;Self-service sign-up&quot;.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-an-admin">Configuring an Admin<a href="#configuring-an-admin" class="hash-link" aria-label="Direct link to Configuring an Admin" title="Direct link to Configuring an Admin">​</a></h3>
<p>You most likely won&#x27;t need an admin user however if you anticipate your Studio user&#x27;s creating multiple organizations, an admin will have full access to all the organizations and their apps.</p>
<ol>
<li>Select or create a new user that will be the admin</li>
<li>In the AWS Console, go to DynamoDB and select Tables on the left hand side.</li>
<li>Look for a table labled <code>stentor-user-permission-&lt;stage&gt;</code></li>
<li>Click explore Table Items to see a list of all users, search until you find the user that will be admin</li>
<li>Click your userId to edit the item</li>
<li>Change your <code>globalPolicy</code> to:<!-- -->
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token property">&quot;globalPolicy&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;permissions&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;all:read&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;all:write&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;roles&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;stentor_admin&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Click &quot;Save Changes&quot;</li>
<li>Log out of Studio if you were logged in</li>
<li>Log back in to Studio</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="updating-your-assistant-application-for-your-new-studio-instance">Updating your Assistant Application for your new Studio Instance<a href="#updating-your-assistant-application-for-your-new-studio-instance" class="hash-link" aria-label="Direct link to Updating your Assistant Application for your new Studio Instance" title="Direct link to Updating your Assistant Application for your new Studio Instance">​</a></h2>
<p>Your assistant application, the main runtime environment, will need to point to your single-tenant instance&#x27;s <a href="/docs/development/api/cms">CMS API</a> for retrieving content and pushing events.</p>
<p><strong>Configuring the Runtime</strong></p>
<ol>
<li>Update the environment variable <code>STUDIO_BASE_URL</code> to your new single-tenants API URL.<!-- -->
<ul>
<li><a href="/docs/development/runtime-environment-variables">More on environment variables</a></li>
</ul>
</li>
<li>Update the token in your secret&#x27;s manager to a new token you generated in your new single-tenant instance.<!-- -->
<ul>
<li><a href="/docs/development/tokens">More on tokens</a></li>
</ul>
</li>
</ol>
<p><strong>Other Updates</strong></p>
<ul>
<li><strong>Chat Widget</strong> You will have your own hosted version of the chat widget source code that was also deployed when you deployed single tenant.  You can find the new installation snippet for the widget on the channels page.<!-- -->
<ul>
<li><a href="/docs/channels/channel-chat-widget#script-tag">More on chat widget installation</a></li>
</ul>
</li>
<li><strong>Lex</strong> You you need to setup another Lex channel for you app in your single tenant instance since they are not brought over in an import.  You can hook up to an existing Lex bot or create a new one.</li>
<li><strong>PostText</strong> You will not need to change your PostText configuration unless you either create a new app runtime or create a new Lex, you will not need to change the configuration on the PostText Lambda.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data--backups-databases">Data &amp; Backups Databases<a href="#data--backups-databases" class="hash-link" aria-label="Direct link to Data &amp; Backups Databases" title="Direct link to Data &amp; Backups Databases">​</a></h2>
<p>As part of your single-tenant deployment, you will have different <a href="/docs/data/types-of-data">types of data</a> across a few different databases.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="read-first">Read First<a href="#read-first" class="hash-link" aria-label="Direct link to Read First" title="Direct link to Read First">​</a></h3>
<ul>
<li><a href="/docs/data/types-of-data">Types of Data</a></li>
<li><a href="/docs/data/data-retention">Related: Multitenant Data Retention</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamodb-tables">DynamoDB Tables<a href="#dynamodb-tables" class="hash-link" aria-label="Direct link to DynamoDB Tables" title="Direct link to DynamoDB Tables">​</a></h3>
<table><thead><tr><th>Table</th><th>Description</th><th>Partition Key</th><th>Sort Key</th></tr></thead><tbody><tr><td>App</td><td>Stores data specific to an app such as channels and base metadata</td><td>appId</td><td></td></tr><tr><td>Org</td><td>Stores data related to an organization</td><td>organizationId</td><td></td></tr><tr><td>Handler</td><td>Stores all handler and intent data</td><td>appId</td><td>intentId</td></tr><tr><td>Entity</td><td>Stores all entity data</td><td>entityId</td><td>appId</td></tr><tr><td>User Table</td><td>Stores user context</td><td>userId</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="backing-up">Backing Up<a href="#backing-up" class="hash-link" aria-label="Direct link to Backing Up" title="Direct link to Backing Up">​</a></h4>
<p>For all the tables, Point-in-time recovery (PITR) is turned on by default, which provides automatic backups of the tables.  <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/PointInTimeRecovery_Howitworks.html?icmpid=docs_dynamodb_help_panel_hp_pitr" target="_blank" rel="noopener noreferrer">Read more about PITR</a>.</p>
<p>Additional backups can be made manually if you want to store data externally.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="opensearch">OpenSearch<a href="#opensearch" class="hash-link" aria-label="Direct link to OpenSearch" title="Direct link to OpenSearch">​</a></h3>
<p>There is one major domain setup for you that holds events, suggestions, FAQs, and any crawled documents.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="backing-up-1">Backing Up<a href="#backing-up-1" class="hash-link" aria-label="Direct link to Backing Up" title="Direct link to Backing Up">​</a></h4>
<p>By default, OpenSearch Service will create snapshots for you automatically and store them to S3.  You can also create snapshots manually.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="recommendation">Recommendation<a href="#recommendation" class="hash-link" aria-label="Direct link to Recommendation" title="Direct link to Recommendation">​</a></h3>
<p>The default settings when you deployed are our recommended back up settings.  You can of course choose to increase the frequency of the OpenSearch automatic snapshots and even manually create more backups for storage off your AWS account.</p>
<p>Another recommendation is leveraging the app&#x27;s export feature to create another type of backup for your app that is easier to read and then import partials if you need to.  You can do this as part of your workflow for moving version updates between different environments.</p>
<ul>
<li><a href="/docs/studio/export-import">Read more about importing &amp; exporting</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/studio/autocomplete-suggestions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Autocomplete Suggestions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/studio/export-import"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Exporting &amp; Importing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#deploying" class="table-of-contents__link toc-highlight">Deploying</a><ul><li><a href="#setup-aws" class="table-of-contents__link toc-highlight">Setup AWS</a></li><li><a href="#setup-deployment-script" class="table-of-contents__link toc-highlight">Setup Deployment Script</a></li><li><a href="#deploy-oc-studio" class="table-of-contents__link toc-highlight">Deploy OC Studio</a></li><li><a href="#accessing-your-new-studio" class="table-of-contents__link toc-highlight">Accessing your new Studio</a></li><li><a href="#deploy-failures" class="table-of-contents__link toc-highlight">Deploy Failures</a></li></ul></li><li><a href="#versions" class="table-of-contents__link toc-highlight">Versions</a></li><li><a href="#updating-existing-stack" class="table-of-contents__link toc-highlight">Updating Existing Stack</a><ul><li><a href="#updating-client" class="table-of-contents__link toc-highlight">Updating Client</a></li><li><a href="#updating-api" class="table-of-contents__link toc-highlight">Updating API</a></li></ul></li><li><a href="#development-staging-production" class="table-of-contents__link toc-highlight">Development, Staging, Production</a><ul><li><a href="#flow-from-development----staging----production" class="table-of-contents__link toc-highlight">Flow from Development --&gt; Staging --&gt; Production</a></li></ul></li><li><a href="#users--authentication" class="table-of-contents__link toc-highlight">Users &amp; Authentication</a><ul><li><a href="#managing-users" class="table-of-contents__link toc-highlight">Managing Users</a></li><li><a href="#configuring-an-admin" class="table-of-contents__link toc-highlight">Configuring an Admin</a></li></ul></li><li><a href="#updating-your-assistant-application-for-your-new-studio-instance" class="table-of-contents__link toc-highlight">Updating your Assistant Application for your new Studio Instance</a></li><li><a href="#data--backups-databases" class="table-of-contents__link toc-highlight">Data &amp; Backups Databases</a><ul><li><a href="#read-first" class="table-of-contents__link toc-highlight">Read First</a></li><li><a href="#dynamodb-tables" class="table-of-contents__link toc-highlight">DynamoDB Tables</a></li><li><a href="#opensearch" class="table-of-contents__link toc-highlight">OpenSearch</a></li><li><a href="#recommendation" class="table-of-contents__link toc-highlight">Recommendation</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/help/support">Support</a></li><li class="footer__item"><a class="footer__link-item" href="/help/install">Install</a></li><li class="footer__item"><a class="footer__link-item" href="/help/install/wordpress">Install on Wordpress</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Advanced Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">XAPP AI</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://xapp.ai/" target="_blank" rel="noopener noreferrer" class="footer__link-item">xapp.ai</a></li><li class="footer__item"><a href="https://xapp.ai/pricing/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pricing</a></li><li class="footer__item"><a href="https://xapp.ai/terms-service/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Service</a></li><li class="footer__item"><a href="https://xapp.ai/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li></ul></div><div class="col footer__col"><div class="footer__title">External Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.xapp.ai/" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Status</a></li><li class="footer__item"><a href="https://github.com/xapp-ai" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 XAPP AI, Inc.</div></div></div></footer></div>
</body>
</html>